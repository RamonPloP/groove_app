<div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header">
      <h4 class="modal-title">Agregar Ingreso</h4>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <form id="addForm" method="post">
        <div class="modal-body">
            <div class="col-md-12">
                <div class="form-group">
                    <label for="name">Fecha <code>*</code></label>
                    <input type="date" name="date" class="form-control" id="date" placeholder=""  required>
                </div>
            </div>
            <div class="col-md-12">

                <div class="form-group">
                    <label for="concept">Concepto <code>*</code></label>
                        <select name="concept" id="concept" class="form-control select2" style="width: 100%;" required>
                            <option value="">Selecciona una opción</option>
                                {% for concept in concepts %}
                                    <option value ="{{ concept.id }}" > {{ concept.name }}  </option>
                                {% endfor %}
                            <option value="other">OTRO</option>
                        </select>
                </div>
                <div class="form-group" id="members">
                    <label for="name">Miembro <code>*</code></label>
                    <select name="member" id="member" class="form-control select2" style="width: 100%;" required>
                        <option value="">Selecciona una opción</option>
                            {% for member in members %}
                                <option value ="{{ member.id }}" > {{ member.name }}  </option>
                            {% endfor %}
                        </select>
                </div>
                <div class="form-group" id="description">
                    <label for="name">Descripción <code>*</code></label>
                    <input type="text" name="desc" class="form-control" id="desc" placeholder="Descripción" required>
                </div>
            </div>
            <div class="col-md-12">
                <div class="form-group">
                    <label for="payment">Tipo de pago <code>*</code></label>
                        <select name="payment" id="payment" class="form-control select2" style="width: 100%;" required>
                            <option value="">Selecciona una opción</option>
                                {% for data in payment_types %}
                                    <option value ="{{ data.id }}" > {{ data.name }}  </option>
                                {% endfor %}
                        </select>
                </div>
            </div>
        <div class="col-md-12" id="total_group">
            <div class="form-group">
                    <label for="total">Cantidad <code>*</code></label>
                    <input type="text" name="total" min="0" class="form-control" id="total" placeholder="Cantidad" required>
                </div>
        </div>
        </div>
        <div class="modal-footer justify-content-between">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
           <button type="submit" class="btn btn-primary" onclick="register(event)">Guardar</button>
        </div>
     </form>
  </div>
  <!-- /.modal-content -->
</div>
<!-- /.modal-dialog -->

<script>

document.getElementById("description").hidden = true;
document.getElementById("description").querySelector('input').disabled = true;
document.getElementById("members").hidden = true;
document.getElementById("members").querySelector('select').disabled = true;

$('#concept').on('change', () => {
    if (['other', '9', '8'].includes($('#concept').val())){
        document.getElementById("description").hidden = false;
        document.getElementById("description").querySelector('input').disabled = false;  // Habilitar el input
    } else {
        document.getElementById("description").hidden = true;
        document.getElementById("description").querySelector('input').disabled = true;  // Deshabilitar el input
    }

    if ($('#concept').val() == 4 || $('#concept').val() == 5) {
        document.getElementById("members").hidden = false;
        document.getElementById("members").querySelector('select').disabled = false;  // Habilitar el select
    } else {
        document.getElementById("members").hidden = true;
        document.getElementById("members").querySelector('select').disabled = true;  // Deshabilitar el select
    }

    if ($('#concept').val() == 4 ){
        document.getElementById("total_group").hidden = true;
        document.getElementById("total").disabled = true;  // Deshabilitar el select
    }else{
        document.getElementById("total_group").hidden = false;
        document.getElementById("total").disabled = false;
    }

});

$('.select2').select2({
    placeholder: 'Selecciona una opción',
    allowClear: true,
});


</script>